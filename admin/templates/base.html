<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
  <head>
    <meta charset="UTF-8" />
    <title>{% block title %}Admin Panel{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <style>
      .truncate {
        max-width: 320px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      .tags-editor {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        margin-top: 8px;
      }

      .tag-chip {
        padding: 6px 10px;
        border-radius: 16px;
        background: #e9ecef;
        font-size: 0.9rem;
        cursor: text;
        transition: opacity 1.2s ease, transform 1.2s ease;
      }

      .tag-chip input {
        border: none;
        background: transparent;
        outline: none;
        width: auto;
        min-width: 40px;
      }

      .tag-chip.removing {
        opacity: 0;
        transform: scale(0.9);
      }

      .tag-add {
        background: #f1f3f5;
        cursor: pointer;
        font-weight: bold;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark px-3">
      <span class="navbar-text me-4">
        <strong>{{ admin.first_name }} {{ admin.last_name }}</strong>
        (@{{ admin.username }}) | ID: {{ admin.telegram_user_id }}
      </span>

      <div class="ms-auto d-flex align-items-center gap-3">
        <!-- Theme toggle -->
        <div class="btn-group btn-group-sm" role="group">
          <input
            type="radio"
            class="btn-check"
            name="theme"
            id="lightTheme"
            autocomplete="off"
            checked
          />
          <label class="btn btn-outline-light" for="lightTheme">Light</label>

          <input
            type="radio"
            class="btn-check"
            name="theme"
            id="darkTheme"
            autocomplete="off"
          />
          <label class="btn btn-outline-light" for="darkTheme">Dark</label>
        </div>

        <a href="/" class="btn btn-outline-light btn-sm">Dashboard</a>
        <a href="/create" class="btn btn-success btn-sm">Add Entry</a>
      </div>
    </nav>

    <div class="container-fluid mt-4">{% block content %}{% endblock %}</div>

    <script>
      const root = document.documentElement;

      document.getElementById("lightTheme").addEventListener("change", () => {
        root.setAttribute("data-bs-theme", "light");
      });

      document.getElementById("darkTheme").addEventListener("change", () => {
        root.setAttribute("data-bs-theme", "dark");
      });
    </script>

    {% block scripts %}{% endblock %}
  </body>
</html>
